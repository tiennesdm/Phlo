{"version":3,"file":"static/js/767.4018b4a1.chunk.js","mappings":"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","sources":["Pages/Login/index.js","components/FormInputs/Text.js","hooks/snackbar.js","config/http-comon.js","services/Auth.service.js"],"sourcesContent":["import  React, { Fragment, useCallback, useContext, useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport { useHistory } from 'react-router-dom';\r\nimport AuthDataService from '../../services/Auth.service';\r\nimport EnqueueSnackBar from '../../hooks/snackbar';\r\nimport { AppContext } from '../../GlobalContexts/AppContext';\r\n\r\n// import PasswordInput from '../../components/FormInputs/Password';\r\nimport TextInput from '../../components/FormInputs/Text';\r\n\r\nexport default function LoginComponent() {\r\n    const history = useHistory();\r\n    const {\r\n      setIsLoading,\r\n      setAuthenticated,\r\n      setData,\r\n       setIsAuthUser\r\n    } = useContext(AppContext);\r\n    const message = EnqueueSnackBar();\r\n    const [disabled, setDisabled] = useState(true);\r\n  let [login, setLogin] = useState( [\r\n    {\r\n      id:0,\r\n      label:'Username',\r\n      variant:'standard',\r\n      name:'username',\r\n      value:'',\r\n      type: 'text',\r\n      // regex:'/[^a-z0-9]/gi',\r\n      error: false,\r\n      errorText : 'Space is not Allowed'\r\n\r\n    },\r\n    {\r\n      id:1,\r\n      label:'Password',\r\n      variant:'standard',\r\n      name:'password',\r\n      value:'',\r\n      type: 'password',\r\n      showPassword: false,\r\n      error: false,\r\n      errorText: 'Length should max 30',\r\n      max: 30,\r\n\r\n    }\r\n  ]);\r\n\r\n\r\n\r\n  const handleChange = (value, id) =>{\r\n    let newArray = [...login];\r\n    if(newArray[id]?.name==='username'){\r\n      console.log(newArray[id]);\r\n      console.log(newArray[id].value.includes(' '));\r\n      if(value.includes(' ')){\r\n        newArray[id].error = true;\r\n      }else{\r\n        newArray[id].error = false;\r\n      }\r\n     \r\n\r\n    }\r\n\r\n    if(newArray[id]?.name==='password'){\r\n      if(value.length > newArray[id].max){\r\n        newArray[id].error = true;\r\n      }else{\r\n        newArray[id].error = false;\r\n      }\r\n     \r\n\r\n    }\r\n    newArray[id].value = value;\r\n    setLogin(newArray);\r\n  };\r\n  const signApiResponse = useCallback(async (body)=>{\r\n    try{\r\n      \r\n      let response = await AuthDataService.loginUser(body);\r\n      console.log(response);\r\n      console.log(response.data);\r\n      let data = response.data;\r\n      if(data){\r\n        localStorage.setItem('auth', data.token);\r\n        localStorage.setItem('username', data.username);\r\n        localStorage.setItem('userDetail', JSON.stringify(data));\r\n        setAuthenticated(true);\r\n        setData( JSON.stringify(data));\r\n        setIsLoading(false);\r\n        setIsAuthUser(data.token);\r\n        message('Login Successful', 'success');\r\n        history.push('/');\r\n      }\r\n      \r\n      setDisabled(false);\r\n      \r\n    }catch(err){\r\n      setDisabled(false);\r\n      message(err?.response?.data?.message ? err?.response?.data?.message : err?.message ? err.message: err, \"error\");\r\n    }\r\n  }, [message, setAuthenticated,setData, setIsLoading, setIsAuthUser, history ])\r\n\r\n\r\n\r\n  const displayText = (item) =>{   \r\n    return (<TextInput {...item} \r\n      key={`${item.id}-${item.name}`}\r\n      handleChange={handleChange} />)\r\n  }\r\n  const handleSubmit = () =>{\r\n    setDisabled(true);\r\n    let createBody = {};\r\n    for(let i=0; i<login.length; i++){\r\n      createBody[login[i].name] = login[i].value;\r\n    }\r\n    signApiResponse(createBody);\r\n\r\n\r\n  }\r\nconst displayLogin = () =>{\r\n  history.push('/auth/signup')\r\n\r\n}\r\nuseEffect(()=>{\r\n  for(let i=0; i<login.length; i++){\r\n    if(login[i].value && !login[i].error){\r\n      setDisabled(false);\r\n    }else{\r\n      setDisabled(true);\r\n    }\r\n\r\n  }\r\n\r\n\r\n}, [login, setDisabled])\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex', flexWrap: 'wrap', flexDirection:'column', justifyContent:'center', alignItems:'center', marginTop:'10%' }}>\r\n      <Fragment>\r\n      <span>Login</span>\r\n        {login.map((data)=>{\r\n          return  displayText(data);\r\n        })}\r\n              <Button variant=\"outlined\"\r\n         margin=\"dense\"\r\n         size='small'\r\n         color=\"error\"\r\n         disabled={disabled}\r\n         onClick={handleSubmit}\r\n         >Login</Button>\r\n       </Fragment>\r\n       <span>Do you have account ?</span>\r\n       <Button variant=\"outlined\"\r\n         margin=\"dense\"\r\n         size='small'\r\n         color=\"secondary\"\r\n        \r\n         onClick={displayLogin}\r\n         >Sign-Up</Button>  \r\n    </Box>\r\n   \r\n  );\r\n}\r\n","import TextField from '@mui/material/TextField';\r\nimport { Fragment } from 'react';\r\n\r\nexport default function TextInput(props) {\r\n    let {handleChange,\r\n        id,\r\n        label,\r\n        variant,\r\n        value,\r\n        type,\r\n        error,\r\n        errorText\r\n    \r\n    } =props;\r\n    return (\r\n      <Fragment>\r\n          <TextField\r\n    id={id}\r\n    label={label}\r\n    type={type}\r\n    InputLabelProps={{\r\n      shrink: true,\r\n    }}\r\n    value={value}\r\n    margin=\"dense\"\r\n    onChange={(event)=>{\r\n                 return handleChange(event.target.value, id);\r\n             }  }\r\n    variant={variant}\r\n    // errortext={errorText}\r\n    error={error}\r\n  />\r\n  {error ? <p style={{color: 'red', fontSize:'8px'}}>{errorText}</p> : ''}\r\n\r\n      </Fragment>\r\n  \r\n  \r\n    )\r\n}","\r\nimport { useSnackbar } from 'notistack';\r\n\r\n\r\nexport default function EnqueueSnackBar( ) {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const setMessage =(message, variant, duration) =>{\r\n    enqueueSnackbar(message, {\r\n        variant: variant,\r\n        autoHideDuration: duration,\r\n    });\r\n   }\r\n   return setMessage;\r\n}","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"http://localhost:3001/api\",\r\n  headers: {\r\n    \"Content-type\": \"application/json\"\r\n  }\r\n});","import http from \"../config/http-comon\";\r\n\r\nclass AuthDataService {\r\n  loginUser(data) {\r\n    return http.post(\"/auth/login\", data);\r\n  }\r\n  signUpUser(data) {\r\n    return http.post(\"/auth/signup\", data);\r\n  }\r\n}\r\n\r\nexport default new AuthDataService();"],"names":["LoginComponent","history","useHistory","useContext","AppContext","setIsLoading","setAuthenticated","setData","setIsAuthUser","message","EnqueueSnackBar","useState","disabled","setDisabled","id","label","variant","name","value","type","error","errorText","showPassword","max","login","setLogin","handleChange","newArray","console","log","includes","length","signApiResponse","useCallback","body","AuthDataService","response","data","localStorage","setItem","token","username","JSON","stringify","push","useEffect","i","sx","display","flexWrap","flexDirection","justifyContent","alignItems","marginTop","Fragment","map","item","key","margin","size","color","onClick","createBody","TextInput","props","InputLabelProps","shrink","onChange","event","target","style","fontSize","enqueueSnackbar","useSnackbar","duration","autoHideDuration","axios","baseURL","headers","http"],"sourceRoot":""}